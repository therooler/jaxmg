theme:
    font:
        code: Roboto Mono
    name: material
    features:
        - navigation.top
        - navigation.instant
        - navigation.tabs
        - navigation.sections # Sections are included in the navigation on the left.
        # - toc.integrate # Table of contents is integrated on the left; does not appear separately on the right.
        - header.autohide # header disappears as you scroll
    palette:
        # Light mode / dark mode
        # We deliberately don't automatically use `media` to check a user's preferences. We default to light mode as
        # (a) it looks more professional, and (b) is more obvious about the fact that it offers a (dark mode) toggle.
        - scheme: default
          primary: white
          accent: amber
          toggle:
              icon: material/weather-night
              name: Switch to dark mode
        - scheme: slate
          primary: black
          accent: amber
          toggle:
              icon: material/weather-sunny
              name: Switch to light mode
    icon:
        repo: fontawesome/brands/github # GitHub logo in top right
    logo: "_static/square.png"
    favicon: "_static/square.png"

site_name: JAXMg
site_description: The documentation for the jaxmg software library.
site_author: Roeland Wiersema
site_url: https://docs.kidger.site/jaxmg

repo_url: https://github.com/therooler/jaxmg
repo_name: therooler/jaxmg
edit_uri: ""

strict: true # Don't allow warnings during the build process

extra_javascript:
    # The below two make MathJax work, see https://squidfunk.github.io/mkdocs-material/reference/mathjax/
    - _static/mathjax.js
    - https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js

extra_css:
    - _static/custom.css

markdown_extensions:
    - pymdownx.arithmatex: # Render LaTeX via MathJax
          generic: true
    - pymdownx.superfences # Seems to enable syntax highlighting when used with the Material theme.
    - pymdownx.details # Allowing hidden expandable regions denoted by ???
    - pymdownx.snippets: # Include one Markdown file into another
          base_path: docs
    - admonition
    - toc:
          permalink: "Â¤" # Adds a clickable permalink to each section heading
          toc_depth: 4

plugins:
    - search:
        separator: '[\s\-,:!=\[\]()"/]+|(?!\b)(?=[A-Z][a-z])|\.(?!\d)|&[lg]t;'
        # exclude:
            # - "examples/.ipynb_checkpoints/"
    - ipynb
    - hippogriffe:
          extra_public_objects:
              - jax.Array
              - jax.sharding.Mesh
              - jax.sharding.PartitionSpec
              - matplotlib.figure.Figure
              - numpy.ndarray
    - mkdocstrings:
          handlers:
              python:
                  options:
                      force_inspection: true
                      heading_level: 4
                      inherited_members: true
                      members_order: source
                      show_bases: false
                      show_if_no_docstring: true
                      show_overloads: false
                      show_root_heading: true
                      show_signature_annotations: false
                      show_source: false
                      show_symbol_type_heading: true
                      show_symbol_type_toc: true

nav:
    - "index.md"
    - "install.md"
    - Examples:
        - "examples/potrs_example.ipynb"
        - "examples/potrs_shard_map.ipynb"
        - "examples/block_cyclic_data_layout.ipynb"
        - "examples/spmd_mpmd.ipynb"
    - API:
        - "api/potrs.md"
        - "api/potrs_mp.md"
        - "api/potri.md"
        - "api/syevd.md"
        - "api/cyclic_1d.md"
    - Technical Details:
        - "technical_details/spmd.md"
        - "technical_details/mpmd.md"